<!DOCTYPE html>
<html lang="en" style="height: 100%">
<head>
  <meta charset="utf-8">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      font: 100%/150% calibri, helvetica, sans-serif;
    }
    #container {
      width: 100%;
      height: 600px;
      padding: 20px;
    }
  </style>
  <title>Correlação GPA e Interesses de Carreira</title>
</head>
<body style="height: 100%;">

  <div id="header">
    <h2 style="text-align:center;">Correlação entre GPA e Interesses de Carreira</h2>
    <p style="text-align:center;">Visualizando as escolhas de domínios de interesse por GPA e gênero.</p>
  </div>

  <div id="controls" style="text-align:center; margin-bottom: 20px;">
    <label for="genderFilter">Filtrar por Gênero:</label>
    <select id="genderFilter">
      <option value="all">Todos</option>
      <option value="Male">Homens</option>
      <option value="Female">Mulheres</option>
    </select>
  </div>

  <div id="container"></div>

  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>

  <script type="text/javascript">
    var data = {
      GPA: [3.2, 3.3, 3.4, 3.5, 3.6, 3.7, 3.8, 3.9],
      all: {
        "Artificial Intelligence": [3, 2, 3, 5, 4, 3, 5, 6],
        "Cybersecurity": [1, 2, 1, 3, 3, 4, 3, 4],
        "Data Science": [2, 1, 2, 2, 3, 3, 2, 3],
        "Software Development": [1, 1, 2, 3, 2, 4, 4, 5],
        "Web Development": [2, 3, 2, 2, 2, 3, 3, 4],
        "Machine Learning": [3, 2, 3, 4, 3, 5, 4, 5],
        "Cloud Computing": [1, 1, 2, 2, 3, 3, 3, 3]
      },
      male: {
        "Artificial Intelligence": [2, 1, 2, 3, 2, 2, 4, 5],
        "Cybersecurity": [1, 2, 1, 2, 3, 3, 2, 3],
        "Data Science": [1, 1, 2, 2, 2, 2, 2, 2],
        "Software Development": [1, 1, 2, 2, 2, 3, 3, 4],
        "Web Development": [2, 2, 1, 2, 1, 2, 2, 3],
        "Machine Learning": [2, 1, 2, 3, 2, 4, 3, 4],
        "Cloud Computing": [1, 1, 2, 2, 2, 3, 2, 2]
      },
      female: {
        "Artificial Intelligence": [1, 1, 1, 2, 2, 1, 1, 1],
        "Cybersecurity": [0, 0, 0, 1, 0, 1, 1, 1],
        "Data Science": [1, 0, 0, 0, 1, 1, 0, 1],
        "Software Development": [0, 0, 0, 1, 0, 1, 1, 1],
        "Web Development": [0, 1, 1, 0, 1, 1, 1, 1],
        "Machine Learning": [1, 1, 1, 1, 1, 1, 1, 1],
        "Cloud Computing": [0, 0, 0, 0, 1, 0, 1, 1]
      }
    };

    var chartDom = document.getElementById('container');
    var myChart = echarts.init(chartDom);
    var option;

    function getOption(gender) {
      var genderData = data[gender] || data.all;

      return {
        title: {
          text: 'Correlação entre GPA e Interesses de Carreira'
        },
        tooltip: {
          trigger: 'axis',
          axisPointer: {
            type: 'shadow'
          }
        },
        legend: {
          data: Object.keys(genderData)
        },
        toolbox: {
          show: true,
          feature: {
            saveAsImage: { show: true }
          }
        },
        xAxis: {
          type: 'category',
          data: data.GPA,
          name: 'GPA'
        },
        yAxis: {
          type: 'value',
          name: 'Número de Estudantes'
        },
        dataZoom: [{
          type: 'slider',
          start: 0,
          end: 100
        }],
        series: Object.keys(genderData).map(function (domain) {
          return {
            name: domain,
            type: 'bar',
            stack: 'total',
            data: genderData[domain]
          };
        })
      };
    }

    myChart.setOption(getOption('all'));

    document.getElementById('genderFilter').addEventListener('change', function () {
      var selectedGender = this.value === 'all' ? 'all' : this.value;
      myChart.setOption(getOption(selectedGender));
    });

  </script>

</body>
</html>
